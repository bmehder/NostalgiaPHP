<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Compatibility Contract — NostalgiaPHP</title>

      <meta name="description" content="Compatibility contract in regards to Directory Structure and how to evolve code without breaking sites.">
  
  <link rel="canonical" href="http://localhost/">

  <!-- Favicon core -->
  <link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
  <link rel="manifest" href="/static/favicons/site.webmanifest">
  <link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#000000">
  <link rel="shortcut icon" href="/static/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-config" content="/static/favicons/browserconfig.xml">
  <meta name="theme-color" content="#000000">

  
  <!-- Open Graph (basic) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Compatibility Contract">
      <meta property="og:description" content="Compatibility contract in regards to Directory Structure and how to evolve code without breaking sites.">
    <meta property="og:url" content="http://localhost/">
  
  <!-- Useful for client scripts that need the base URL -->
  <meta name="base-url" content="">

  <!-- Apply saved theme class before CSS loads to prevent flash of default skin -->
  <script>
    (function () {
      try {
        const theme = localStorage.getItem('nostalgia:theme');
        if (theme) document.documentElement.classList.add(theme);
      } catch (_) { }
    })();
  </script>

  <!-- Styles -->
  <link rel="stylesheet" href="/static/css/colors.css">
  <link rel="stylesheet" href="/static/css/reboot.css">
  <link rel="stylesheet" href="/static/css/skins.css">
  <link rel="stylesheet" href="/static/css/utilities.css">
  <link rel="stylesheet" href="/static/css/components.css">

  <!-- Google Font (consider self-hosting for perf/privacy) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@600..900&display=swap" rel="stylesheet">

  <!-- Prism (non-blocking) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-okaidia.min.css" media="print"
    onload="this.media='all'">
  <noscript>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-okaidia.min.css">
  </noscript>

  <script>
    // Configure autoloader path before plugin loads
    window.Prism = window.Prism || {};
    Prism.plugins = Prism.plugins || {};
    Prism.plugins.autoloader = { languages_path: "https://cdn.jsdelivr.net/npm/prismjs/components/" };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.css" media="print"
    onload="this.media='all'">

  <!-- Theme Switcher -->
  <script type="module" src="/static/js/apps/theme-switcher.js"></script>

  <!-- Appear.js -->
  <script type="module" src="/static/js/apps/appear.js"></script>
</head>
<body class="layout-sidebar">
  <div class="wrapper">
    <a class="visually-hidden" id="top"></a>

<header>
  <a href="#main" class="skip-link">Skip to main content</a>
  <div class="outer">
    <div class="inner spread-apart" data-inner-header>
      <!-- <a class="brand" href="/">NostalgiaPHP</a> -->

      <a class="brand flex align-items-center gap-0-5" href="/">
        <!-- NostalgiaPHP mark -->
        <svg aria-label="NostalgiaPHP" width="28" height="28" viewBox="0 0 24 24" fill="var(--accent-strong)">
          <rect x="2.25" y="2.25" width="19.5" height="19.5" rx="6" stroke="currentColor" stroke-width="1.5" />
          <!-- Single-stroke 'N' -->
          <path d="M7 16V8L17 16V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        NostalgiaPHP      </a>

      <!-- ✅ hidden control for JS-less toggle -->
      <input type="checkbox" id="nav-check" class="nav-check" aria-label="Toggle menu" tabindex="-1">

      <!-- ✅ label becomes the hamburger button -->
      <label for="nav-check" class="nav-toggle" aria-controls="site-nav">
        <span class="visually-hidden">Menu</span>
        <svg viewBox="0 0 24 24" width="40" height="40" fill="var(--text-inverse)" aria-hidden="true">
          <rect x="3" y="6" width="18" height="2" rx="1"></rect>
          <rect x="3" y="11" width="18" height="2" rx="1"></rect>
          <rect x="3" y="16" width="18" height="2" rx="1"></rect>
        </svg>
      </label>

      <nav id="site-nav" data-site-nav class="nav spread-apart"><a href="/" class="">Home</a><div class="has-submenu"><a href="/about" class="top-link " anchor-name="--parent-nav-item">About</a><ul class="submenu list-style-none flow-0-5"><li><a href="/about/components" class="">Components</a></li><li><a href="/about/blink" class="">Blink</a></li><li><a href="/about/fetch" class="">Fetch</a></li><li><a href="/about/slider" class="">Slider</a></li><li><a href="/api" class="">REST API</a></li></ul></div><a href="/blog" class="">Blog</a><a href="/dox" class="">Dox</a><a href="/search" class="">Search</a><a href="/contact" class="">Contact</a><div class="has-submenu"><a href="/admin" class="top-link " anchor-name="--parent-nav-item">Admin</a><ul class="submenu list-style-none flow-0-5"><li><a href="/sitemap.xml" class="">Sitemap</a></li><li><a href="/robots.txt" class="">Robots</a></li></ul></div><a href="https://github.com/bmehder/NostalgiaPHP" class="github-link border-none" style="line-height:0" target="_blank" rel="noopener">  <svg viewBox="0 0 16 16" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M8 .2a8 8 0 0 0-2.5 15.6c.4.1.6-.2.6-.4v-1.4c-2.5.5-3-1.2-3-1.2-.3-.9-.8-1.2-.8-1.2-.7-.5.1-.5.1-.5.8.1 1.2.8 1.2.8.7 1.2 1.9.9 2.4.7.1-.5.3-.9.5-1.1-2-.2-4.1-1-4.1-4.3 0-1 .4-1.9 1-2.6-.1-.2-.4-1.1.1-2.3 0 0 .8-.2 2.6 1a9 9 0 0 1 4.7 0c1.8-1.2 2.6-1 2.6-1 .5 1.2.2 2.1.1 2.3.7.7 1 1.6 1 2.6 0 3.3-2.1 4-4.1 4.3.3.2.5.6.5 1.3v1.9c0 .2.2.5.6.4A8 8 0 0 0 8 .2Z"/></svg>  <span class="visually-hidden">GitHub</span></a></nav>    </div>
  </div>
</header>        <main id="main">
        <nav class="breadcrumbs inner" aria-label="Breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
    <ol>
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="/"><span itemprop="name">Home</span></a>
        <meta itemprop="position" content="1">
      </li>
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="/dox">
          <span itemprop="name">Dox</span>
        </a>
        <meta itemprop="position" content="2">
      </li>
      <li aria-current="page" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <span itemprop="name">Compatibility Contract</span>
        <meta itemprop="position" content="3">
      </li>
    </ol>
  </nav>
        <div class="outer">
                  <div class="inner" style="--inner-padding-block: var(--size-1-5)">
                      <div class="content content-sidebar">
              <div>
                                  <div class="post-meta">
                    <time datetime="2025-09-11T00:00:00+01:00">Sep 11, 2025</time>                  </div>
                                <section class="content flow">
                  <h1>Compatibility Contract</h1>
<h2>Directory Structure</h2>
<ul>
<li>content/pages/{slug}.md → /slug (or / for index.md)</li>
<li>content/collections/{name}/{slug}.md → /{name}/{slug}</li>
<li>static/ served at /static/...</li>
<li>Front-matter keys (optional, don’t break if missing)</li>
<li>Defaults (no surprises)</li>
<li>If a key is missing, site still renders (infer title/desc or leave blank)</li>
<li>Templates/partials API</li>
<li>Templates receive: $title, $content, $meta, $path</li>
<li>Partials inherit variables from callers; avoid renaming expected vars</li>
</ul>
<h2>Upgrade Strategy (how to evolve code without breaking sites)</h2>
<ul>
<li>No content migrations. Never require users to rename folders or files.</li>
<li>Additive front-matter only. New keys are optional; old keys keep working.</li>
<li>Graceful fallbacks. If a new feature is disabled/missing, render as before.</li>
<li>Feature flags in config.php. (e.g., 'features' =&gt; ['sitemap_indexes' =&gt; true])</li>
<li>Semantic-ish versioning. Bump a version constant when behavior changes.</li>
</ul>
<h2>Files you can swap safely</h2>
<ul>
<li><code>functions.php</code> — new helpers, parsers, fallbacks. Keep function names/returns stable.</li>
<li><code>index.php</code> — routing. Don’t change URL shapes; add new routes behind flags.</li>
<li><code>config.php</code> — user merges. Provide defaults in functions.php so omissions don’t break.</li>
</ul>                </section>
                                                                                  </div>
              
<aside class="sidebar flow">
  <h2>Explore</h2>

  <search>
  <form class="search-form flex" method="get" action="/search" role="search">
    <label class="visually-hidden" for="q">Search</label>
    <input id="q" class="flex" type="search" name="q" value="" placeholder="Search this site…"
      autocomplete="off" />
    <button type="submit" class="margin-0">Search</button>
  </form>
</search>
  <h3>Recent Items</h3>
  <ul>
            <li>
          <a href="/blog/not-nostalgia-php">You Might Not Want to Use NostalgiaPHP</a><br />
          <small>Oct 8, 2025</small>
        </li>
              <li>
          <a href="/dox/understanding-the-styles">Understanding the Styles</a><br />
          <small>Oct 5, 2025</small>
        </li>
              <li>
          <a href="/blog/appear-animations">Appear Animations</a><br />
          <small>Oct 2, 2025</small>
        </li>
              <li>
          <a href="/dox/nostalgia-php-cli">Nosty CLI — Your New Best Friend</a><br />
          <small>Sep 28, 2025</small>
        </li>
              <li>
          <a href="/dox/api-routes">Introducing the NostalgiaPHP REST API</a><br />
          <small>Sep 27, 2025</small>
        </li>
        </ul>
  <!-- ——— TAGS (simple list) ——— -->
  
  <section class="sidebar-section">
    <h3 class="sidebar-heading">Tags</h3>
          <ul class="tags-list">
                  <li>
            <a href="/tag/animation">
              animation            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/api">
              api            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/blink">
              blink            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/css">
              css            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/intersectionobserver">
              intersectionobserver            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/js">
              js            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/json">
              json            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/nostalgia">
              nostalgia            </a>
            <small>(2)</small>
          </li>
                  <li>
            <a href="/tag/php">
              php            </a>
            <small>(3)</small>
          </li>
                  <li>
            <a href="/tag/reactivity">
              reactivity            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/rest">
              rest            </a>
            <small>(1)</small>
          </li>
                  <li>
            <a href="/tag/retro">
              retro            </a>
            <small>(3)</small>
          </li>
                  <li>
            <a href="/tag/simplicity">
              simplicity            </a>
            <small>(3)</small>
          </li>
                  <li>
            <a href="/tag/slank">
              slank            </a>
            <small>(1)</small>
          </li>
              </ul>
      <!-- <p class="tag-cloud-more"><a href="/tags">View all tags →</a></p> -->
      </section>
</aside>            </div>
          </div>
        </div>
    </main>
    <footer>
  <div class="outer">
    <div class="inner">
      <div class="content spread-apart">
        &copy; 2025 NostalgiaPHP. All rights reserved.
        <a href="#top" data-back-to-top>⬆ Back to Top</a>
        <script>
          document.addEventListener('DOMContentLoaded', () => {

            document.querySelector('[data-back-to-top]').addEventListener('click', e => {
              e.preventDefault()
              window.scrollTo({ top: 0 })
            })
          })
        </script>
      </div>
    </div>
  </div>
</footer>

</body>

</html>  </div>